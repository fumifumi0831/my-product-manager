# サンプルAPI制約情報

## Google Cloud Vision API

### 基本情報
- API提供元: Google Cloud Platform
- API公式ドキュメント: https://cloud.google.com/vision/docs/reference/rest
- 利用バージョン: v1
- 契約プラン: Standard (従量課金制)

### 認証情報
- 認証方式: API Key または Service Account
- トークン有効期限: Service Accountを使用する場合、JWTトークンは1時間
- トークン更新方法: トークン発行APIを使用して自動更新

### リクエスト制限
- 1秒あたりの上限: 特に明記なし
- 1分あたりの上限: 1800リクエスト
- 1日あたりの上限: プロジェクトごとに設定可能
- 超過時の挙動: 429 Too Many Requests エラー
- バーストリクエスト対応: あり（短時間の制限超過は許容される場合あり）

### データ制限
- リクエスト最大サイズ: 10MB
- レスポンス最大サイズ: 制限なし（実際には結果のサイズに依存）
- 画像ファイル形式: JPEG, PNG, GIF, BMP, WEBP, RAW, ICO
- バッチリクエスト上限: 1リクエストあたり最大16画像

### エラー処理
- レート制限エラーコード: 429 Too Many Requests
- リトライ推奨待機時間: 指数バックオフ（初回1秒から最大64秒）
- リトライ戦略: 最大5回のリトライ、指数バックオフ、ジッタ追加

### 特記事項
- 複雑な分析（テキスト検出、ラベル検出など）は処理時間が長くなる場合があります
- PDF文書の処理は非同期APIを使用する必要があります
- 非同期操作の場合、最大60分の処理時間がかかる場合があります
- 画像の解像度は特に制限はありませんが、高解像度画像はダウンサンプリングされる場合があります
- 重要：分析対象の画像は機械学習モデルの改善のために使用される場合があり、機密データには注意が必要です

## AWS Rekognition

### 基本情報
- API提供元: Amazon Web Services
- API公式ドキュメント: https://docs.aws.amazon.com/rekognition/latest/dg/API_Reference.html
- 利用バージョン: 2016-06-27
- 契約プラン: 従量課金制

### 認証情報
- 認証方式: AWS IAM認証（アクセスキー、シークレットキー）
- トークン有効期限: 一時的な認証情報の場合は設定による（通常15分〜12時間）
- トークン更新方法: AWS STSを使用して自動更新

### リクエスト制限
- 1秒あたりの上限: 5〜50トランザクション（APIオペレーションによって異なる）
- 同時接続数: アカウントとリージョンごとに20
- ストリーム処理: 1秒あたり10〜20フレーム
- 超過時の挙動: ThrottlingException エラー
- バーストリクエスト対応: あり（最大キャパシティの2倍までの短時間バースト）

### データ制限
- 画像サイズ上限: 15MB
- 保存されているS3オブジェクトの場合: 5GB
- サポートする画像形式: JPEG, PNG
- 最小画像ピクセル: 80 x 80
- 顔インデックス上限: 20,000,000面（コレクションあたり）

### エラー処理
- レート制限エラー: ThrottlingException
- リトライ推奨待機時間: 指数バックオフ（初回100ms）
- リトライ戦略: AWS SDKの自動リトライロジックを使用

### 特記事項
- 顔検出と比較のための画像は、S3バケットに保存するかバイト配列として直接送信可能
- DetectModerationLabelsは、不適切または望ましくないコンテンツの検出に使用できます
- カスタムラベルを使用する場合は、モデルのトレーニングと評価のコストが追加されます
- 継続的なビデオ分析はKinesis Video Streamsとの統合が必要です
- コレクション（顔インデックス）はリージョンに固有で、リージョン間で共有できません

## Auth0

### 基本情報
- API提供元: Auth0 (Okta)
- API公式ドキュメント: https://auth0.com/docs/api
- 利用バージョン: Authentication API v2
- 契約プラン: Developer Pro

### 認証情報
- 認証方式: OAuth 2.0 (Client ID + Client Secret)
- アクセストークン有効期限: デフォルト24時間（設定可能）
- リフレッシュトークン有効期限: デフォルト30日（設定可能）
- トークン更新方法: リフレッシュトークンを使用してアクセストークンを更新

### リクエスト制限
- 1秒あたりの上限: 5リクエスト
- 1分あたりの上限: 100リクエスト
- 1日あたりの上限: Developer Proプランでは制限なし
- ユーザー登録制限: Developer Proプランでは1000人/月
- 超過時の挙動: 429 Too Many Requests エラー

### データ制限
- JWTサイズ上限: 50KB
- ルール実行時間: 最大10秒
- Hooks実行時間: 最大10秒
- ユーザーメタデータサイズ: 10MB
- テナントログ保持期間: Developer Proで最大2日間

### エラー処理
- レート制限エラーコード: 429 Too Many Requests
- リトライ推奨待機時間: X-RateLimit-Reset ヘッダーの値（秒単位）
- リトライ戦略: X-RateLimit-Remaining ヘッダーを確認し、指数バックオフを実装

### 特記事項
- テナントごとの制限があり、プランによって異なります
- Authentication APIとManagement APIで別々のレート制限があります
- ソーシャルログイン（Google、Facebook等）を使用する場合、それぞれのプロバイダーの制限も適用されます
- パスワードリセットリクエストは、1時間あたりのユーザーあたりの制限があります（デフォルト3回）
- ブルートフォース攻撃検出のため、ログイン試行失敗に対する制限があります（デフォルト10回/時間）
