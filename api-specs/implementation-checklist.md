# API実装チェックリスト

このチェックリストは、API実装前に確認すべき項目をまとめたものです。チェックリストを活用することで、API仕様の誤解や実装ミスを防ぎます。

## API仕様確認

- [ ] 最新のAPI仕様書を確認した
- [ ] エンドポイントのURLとパスを正確に確認した
- [ ] HTTPメソッド（GET, POST, PUT, DELETEなど）を確認した
- [ ] リクエストパラメータとそのフォーマットを確認した
- [ ] リクエストヘッダの要件を確認した
- [ ] リクエストボディのスキーマを確認した
- [ ] レスポンスのステータスコードとその意味を確認した
- [ ] レスポンスボディのスキーマを確認した
- [ ] エラーレスポンスのフォーマットを確認した

## API制約確認

- [ ] リクエスト頻度の制限（レート制限）を確認した
- [ ] バースト制限（短時間での最大リクエスト数）を確認した
- [ ] 1リクエストあたりのデータサイズ制限を確認した
- [ ] ページネーションの仕組みとデフォルト値を確認した
- [ ] ソート・フィルタリングのパラメータと制約を確認した
- [ ] 認証方式と認証情報の有効期限を確認した
- [ ] 同時リクエスト数の制限を確認した

## 実装設計

- [ ] レート制限に対応するリトライロジックを設計した
- [ ] タイムアウト設定とリトライ戦略を決定した
- [ ] エラーハンドリングの方針を決定した
- [ ] ログ記録の内容と方法を決定した
- [ ] キャッシュ戦略（必要な場合）を検討した
- [ ] バルク操作の分割方法（必要な場合）を検討した
- [ ] クライアント側のバリデーションを実装した

## テスト計画

- [ ] 単体テストの範囲と方法を決定した
- [ ] API仕様に基づいたモックテストを計画した
- [ ] エッジケース（境界値、エラー状態）のテストケースを列挙した
- [ ] レート制限に到達した場合のテストケースを計画した
- [ ] 認証エラー時のテストケースを計画した
- [ ] 並列リクエスト時の挙動を検証するテストを計画した
- [ ] 負荷テスト（必要な場合）を計画した

## セキュリティ確認

- [ ] 認証情報の安全な保管方法を確認した
- [ ] センシティブデータの処理方法を確認した
- [ ] HTTPS通信を強制しているか確認した
- [ ] インジェクション攻撃への対策を実装した
- [ ] APIキーやトークンのローテーション方針を決定した
- [ ] エラーメッセージから機密情報が漏れないよう確認した

## 監視とアラート

- [ ] APIリクエスト数の監視方法を決定した
- [ ] エラー率の監視方法を決定した
- [ ] レスポンスタイムの監視方法を決定した
- [ ] レート制限到達時のアラート設定を計画した
- [ ] 異常なリクエストパターンの検出方法を検討した
- [ ] サービス停止時の通知方法を決定した

## ドキュメンテーション

- [ ] 実装したAPIの使用方法を文書化した
- [ ] リクエスト例とレスポンス例を文書化した
- [ ] エラーコードと対処方法を文書化した
- [ ] レート制限と対策方法を文書化した
- [ ] 認証方法と認証情報の取得方法を文書化した
- [ ] APIの変更履歴を記録した

## リリース前の最終確認

- [ ] 本番環境の認証情報が正しく設定されているか確認した
- [ ] 環境ごとの設定値の違いを確認した
- [ ] モニタリングとロギングが正しく設定されているか確認した
- [ ] リリース手順と切り戻し手順を確認した
- [ ] 依存するサービスやAPIが正常に動作しているか確認した
